$(document).ready(function() {
  $(".toggleNav").click(function() {
    $("#menu").slideToggle();
    $(this).toggleClass("active");
  });
  $("#menu > ul > li").hover(
    function() {
      $("body").css("overflow-x", "hidden");
    },
    function() {
      $("body").css("overflow-x", "inherit");
    }
  );
  navigation();
  heritageAcc();
  $(".searchClr").click(function() {
    $(".serachField").val("");
  });
  $(".serchIco a").click(function() {
    $(".serachField").val("");
    $(".serachOuter").slideToggle();
    $(".serachField").focus();
    var h = $(window).width();
    if (h < 768) {
      $("#menu").slideUp();
    }
  });
  $(window).resize(function() {
    var h = $(window).width();
    if (h < 768) {
    } else {
      $("#menu, #menu > ul > li > div, .TL-content p").show();
      b();
    }
  });
  $(".expandAll").click(function() {
    $(".acc_content").slideDown();
    $(".accordion_in").addClass("acc_active");
  });
  $(".collapseAll").click(function() {
    $(".acc_content").slideUp();
    $(".accordion_in").removeClass("acc_active");
  });
  $(window).resize(function() {
    var h = $(".page-container").width();
    $(".TL-nav").width(h);
  });
  b();
  function b() {
    if ($("#heritage-TL").length) {
      var i = Math.round($("#heritage-TL").offset().top),
        h = Math.round($("#1996 p").offset().top);
      $(window).scroll(function() {
        if ($(window).scrollTop() > i && $(window).scrollTop() < h) {
          var j = $(".page-container").width();
          $(".TL-nav").width(j);
          $(".TL-nav").addClass("sticky");
          $(".TL").css({ "padding-top": "65px" });
        } else {
          $(".TL").css({ "padding-top": "0" });
          $(".TL-nav").removeClass("sticky");
        }
      });
    }
  }
  $(".TL-nav ul li a").click(function() {
    var h = $(this).attr("href"),
      i = Math.round($(h).offset().top) - 65;
    $("html,body").animate({ scrollTop: i }, 400);
    return false;
  });
  var c = $(".container").width();
  $(".sticky").width(c);
  var e = $(".TL-nav ul li").children(),
    g = [];
  for (var d = 0; d < e.length; d++) {
    var f = e[d];
    var a = $(f).attr("href");
    g.push(a);
  }
  $(window).scroll(function() {
    var p = $(window).scrollTop();
    var o = $(window).height();
    var j = $(document).height();
    for (var m = 0; m < g.length; m++) {
      var h = g[m];
      var n = Math.round($(h).offset().top) - 65;
      var k = $(h).outerHeight();
      var l = h.substr(1);
      if (p >= n && p < n + k) {
        $(".TL-nav ul li a[href='" + h + "']").addClass("nav-active");
        $("#" + l).addClass("active");
      } else {
        $(".TL-nav ul li a[href='" + h + "']").removeClass("nav-active");
        $("#" + l).removeClass("active");
      }
    }
  });
});
function navigation() {
  $("#menu > ul > li > a").click(function(b) {
    var c = $(window).width();
    if (c < 768) {
      $("#menu > ul > li > a").removeClass("active");
      $(this).addClass("active");
      var a = $(this).next("div");
      if (a.is(":visible")) {
        $("#menu > ul > li > a").removeClass("active");
        a.slideUp("normal");
      } else {
        $("#menu > ul > li > div:visible").slideUp("normal");
        a.slideDown("normal");
      }
    }
  });
}
function heritageAcc() {
  $(".TL-content h3").click(function(b) {
    var c = $(window).width();
    if (c < 768) {
      $(".TL-content h3").removeClass("active");
      $(this).addClass("active");
      var a = $(this).next("p");
      if (a.is(":visible")) {
        $(".TL-content h3").removeClass("active");
        a.slideUp("normal");
      } else {
        $(".TL-content p:visible").slideUp("normal");
        a.slideDown("normal");
        setTimeout(function() {
          $("html, body").animate(
            { scrollTop: $(a).offset().top - 49 },
            "slow"
          );
        }, 500);
      }
    }
  });
}
jQuery(document).ready(function() {
  jQuery("#libre-video-button1,#libre-video-button2").click(function() {
    jQuery("#videoModal1").modal({ show: true });
    jQuery("#video1")
      .get(0)
      .play();
  });
  jQuery("#libre-pro-video-button1,#libre-pro-video-button2").click(function() {
    jQuery("#videoModal2").modal({ show: true });
    jQuery("#video2")
      .get(0)
      .play();
  });
  jQuery("#libre-combine-video-button1,#libre-combine-video-button2").click(
    function() {
      jQuery("#videoModal3").modal({ show: true });
      jQuery("#video3")
        .get(0)
        .play();
    }
  );
  jQuery("#videoModal1").on("hidden.bs.modal", function() {
    jQuery("#video1")
      .get(0)
      .pause();
  });
  jQuery("#videoModal2").on("hidden.bs.modal", function() {
    jQuery("#video2")
      .get(0)
      .pause();
  });
  jQuery("#videoModal3").on("hidden.bs.modal", function() {
    jQuery("#video3")
      .get(0)
      .pause();
  });
  $(document).ready(function() {
    $(".thanks").hide();
    $("#register").validate({
      showErrors: function(a, b) {
        $.each(this.validElements(), function(d, e) {
          var c = $(e);
          c.data("title", "")
            .removeClass("error")
            .tooltip("destroy");
        });
        $.each(b, function(e, d) {
          var c = $(d.element);
          c.tooltip("destroy")
            .data("title", d.message)
            .addClass("error")
            .tooltip();
        });
      },
      submitHandler: function(a) {
        $("#ajaxMain").show();
        $.ajax({
          type: "POST",
          url:
            "//diabetesfrontier.us15.list-manage.com/subscribe/post?u=bbf89b7fb48d2ab31388ba9e2&amp;id=f20cd30b72",
          data: {
            LNAME: $("#lname").val(),
            FNAME: $("#fname").val(),
            AGE: $("#age").val(),
            EMAIL: $("#email").val(),
            PHONE: $("#phone").val(),
            INSULIN: $(".radioUser").val(),
            DIABETYP: $("#dType").val()
          },
          success: function(b) {},
          error: function(b) {
            console.log(b);
            $(".thanks").show();
            $(".form-view").hide();
            $("#register")[0].reset();
            $("#ajaxMain").hide();
          }
        });
      }
    });
  });
  jQuery("#tar").click(function() {
    $("#yes").val("Yes");
    $("#no").val("No");
  });
  jQuery("#tar2").click(function() {
    $("#yes").val("Yes");
    $("#no").val("No");
  });
  jQuery(".close-reveal-modal").click(function() {
    $(".thanks").hide();
    $(".form-view").show();
  });
});
$(window).load(function() {
  var a;
  var b = $("#carousel-home")
    .find(".active")
    .attr("data-interval");
  a = setTimeout("$('#carousel-home').carousel({interval: 1000});", b - 1000);
  $("#carousel-home").on("slid.bs.carousel", function() {
    clearTimeout(a);
    var c = $(this)
      .find(".active")
      .attr("data-interval");
    $("#carousel-home").carousel("pause");
    a = setTimeout("$('#carousel-home').carousel();", c - 1000);
  });
  $(".custom-control.right").on("click", function() {
    clearTimeout(a);
  });
  $(".custom-control.left").on("click", function() {
    clearTimeout(a);
  });
});
